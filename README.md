Tradle
======
Tradle is here to answer a question: what does it mean to operate a business on-chain?

Tradle's vision
===============

An emergent global Tradenet, based on bitcoin technology, where trade programming of the planet's digitized assets is done by you, and trade fairness and compliance can be assured with minimal governance.

What Tradenet will do
======================

Bitcoin effect will go far beyond restructuring of the capital markets. It will change the way we do business, and will give birth to a global Tradenet. Tradenet will use freely exchangeable digital tokens/[appcoins](startupboy.com/2014/03/09/the-bitcoin-model-for-crowdfunding/) to create new business models. Companies will switch to operate on crypto ledger (on-chain) to coordinate activities and data sharing with partners, to provide automatic transparency to investors and to better support customers. On-chain operations will simplify value assessment for funding, while decreasing the need for compliance and regulation.

If algorithmic trading on capital markets is any indication, most trade activity will become automated. This will include trade of physical goods and their digitized representations. It will include and transform existing trade activities like agreements, orders of goods and services, logistics and warehousing, production and quality control, time control and project management, invoices and payments, etc. 

As new tools emerge, anyone will be able to program the trade in Tradenet.

Motivation
==========

I have been fascinated with the concept of Tradenet since I first heard it from [Cameron Gray](http://about.me/cameron.john.gray) in his [Bitcoin Magazine article](http://bitcoinmagazine.com/15021/sovereignty-2-0/). Cameron defines Tradenet as "quantify anything of value so that it can be traded in a decentralized highly competitive frictionless market". His vision somehow reminded me of traders from [Vernor Vinge's Deepness In the Sky](http://en.wikipedia.org/wiki/A_Deepness_in_the_Sky), who used open information as a basis for galactic trade. I could define Tradenet as an open-ledger world commerce, or a network of businesses operating on-chain. As commerce becomes a first class citizen on the Internet, it will create stability and livelihood for billions of people engaged in a global trade, not war.

The Internet was born decentralized, but most financially successful sites have grown into monopolies. The dire consequences of this centralization have come into focus with [the theft of 100M credit cards from Target in 2013](http://www.theguardian.com/business/2013/dec/19/target-breach-credit-card-accounts) and became unbearable after we learned of [mass surveilance and government hacking into all aspects of our lives](http://www.democracynow.org/2014/3/17/snowden_docs_expose_how_the_nsa). In the bitcoin world, whenever a centralized solution emerged on top of a decentralized blockchain, it immediately [attracted hackers](http://arstechnica.com/business/2014/02/having-lost-463-million-in-bitcoins-mtgox-files-for-bankruptcy-protection/) and [regulators](http://cointelegraph.com/news/112034/mitigating-the-legal-risks-of-issuing-securities-on-a-cryptoledger). In our current finance system [systemic abuse of trust became a norm](https://twitter.com/tradles/status/511002085353984000).

We need a technology that is decentralized and can operate in a fashion which requires no trust in its operators. Blockchain is a technology breakthrough that was born out of 20 years of research into such trustless systems. Its open ledger has inspired thousands of bright minds and hundreds of startups to dare to rethink the very structures of our economy and democracy. A new technology stack is forming around the blockchain, with the ability to represent a world with digitized assets, creating a foundation for global programmable trade. Programmable trade will greatly reduce the amount of delegation of personal powers to intermediaries.

But we have to be careful. As [software is eating the world](http://online.wsj.com/news/articles/SB10001424053111903480904576512250915629460) we increasingly begin to trust a new representative, this time the developer. To avoid creating a new subtle layer of trust and retain our personal power, we must be able to program the key aspects of the trade ourselves. We need a way to express complex trade rules in a simple way.

Backstory 
=========

The idea of programmable tradle is new, but a more general idea of a programmable Web has been around since at least 1998, when Tim Berners Lee published his book [Weaving The Web (see chapter Machines and the Web)](http://www.amazon.com/Weaving-Web-Original-Ultimate-Inventor/dp/0062515861). We have seen the spikes of excitement around mashable sites, the Facebook platform, and ushered in the age of the APIs at least 5 times over. The achievements of RESTful methodology notwithstanding, the key ingredient of a programmable Web is still eluding us. The greatest concerted push to add this ingredient to the Web was the Semantic Web initiative of Tim Berners Lee at the W3C. 

My friends and I have been so fascinated with the promise of the Semantic Web that in the early 2000s we left our lucrative corporate jobs and have for over a decade been building systems that operated on a core principle: "Web for humans and machines." In any of the dozens of applications we built, anything the user could view and edit in the application, could be similarly accessed and modified by programs via a single data-centric bi-directional Web API (in fact the UI was built on top of that API). This is in contrast to sites and apps that are built just for humans, with may be a bolt-on, limited, often read-only API, and the systems that are built just for machines, like EDI and XML exchanges in the past and more recently Web API-based services.

We have built value chain management system where companies coordinated their trading activity across 20+ countries via a decentralized network of corporate Web databases. This included the ordering of millions of tons of products, tracking multi-modal transportation across continents, and organizing invoicing and payments, all with a unified trading Web that felt like one site, yet was a network of many. Each participant would login into one of the participating sites and could see everything he/she needed, yet only related to the business activities in which his company took part.

There was one problem though. It was really hard to sell this system to businesses, because it required their trust in us, an intermediary that would build and maintain those decentralized Web databases, ensure the quality and especially the security of their sensitive business data. Sales process was slow and exhausting, but when we managed to acquire the trust of another client, it smoothed out its business processes with partners, eliminated a lot of routine operations and most importantly, improved the relationships between partners in the value chain, as disputes became much more rare. Bitcoin is potentially a game changer for such networked business systems. A trustless (no trust in an intermediary needed) blockchain allows to build such a trading network on a new foundation.

Wave after wave, technology shifts come and shake the foundation of our existing systems. The companies that venture to do a complete redesign of systems and business models for a new environment take the lead. This is how it was with the shift from the centralized mainframe computing to PCs, and then back to the centralized Web systems, how it was with SaaS, Mobile, etc. etc. We believe with the blockchain we will witness a rewrite of most of the existing business software, software that will not just use the chain to move money, but will intrinsically operate on-chain.

5 laws of Tradenet
==================

1. **On-chain operations**. Chain can be viewed as a high-level DB transaction log with a controlled shared access and custom logic. Decentralized, based on a blockchain (or rather [sidechains and treechains](https://twitter.com/tradles/status/497081249505484801)) operations will allow businesses to provide third-parties with the limited access to their transactions, both internal, like hiring, inventory, and external, like shipments, orders, supplies. It will allow lenders to assess credit score, investors to do valuations of securities, partners to "operate on the same page", will afford low-cost compliance, and brands to establish [a new rapport with their customers](https://www.youtube.com/watch?v=gC4j-V585Ug&list=UUgo7FCCPuylVk4luP3JAgVw#t=500). At this point you might want to say: "no way business will do that!", but we were saying that same thing about privacy before the Facebook. Besides, we are not talking about opening absolutely everything, but rather a system with  crypto-based privacy controls and anonymity. And if you think controlled sharing with crypto is a pipe dream, see another dreamer [who is doing that in medical records space](http://www.coindesk.com/israels-dna-bits-moves-beyond-currency-with-genes-blockchain/). You can also check out [IBM's IoT on chain project called Adept] (https://gigaom.com/2014/09/09/check-out-ibms-proposal-for-an-internet-of-things-architecture-using-bitcoins-block-chain-tech/) that aims to manage devices' relationships via a blockchain rather than a cloud.

2. **Appcoins-based**. An entity will be able to [offer appcoins](https://github.com/DavidJohnstonCEO/DecentralizedApplications) as a pre-sale for future use of its products and services. Appcoins  is a breakthrough for _monetization of open source, finding the best talent to build the product, capturing early adopters_ ([source](http://blog.mastercoin.org/2014/09/02/use-case-of-master-protocol-dapps/)). It is similar to purchasing tokens for use in laundromats, loading trips on a subway card, or paying for future products at Kickstarter. Appcoins may look like shares of the company, but they can not be, at least not in the US at the moment (fall 2014). In US public solicitation of funds in exchange for securities is allowed only if purchases are made by [verified accredited investors](http://www.sec.gov/info/smallbus/secg/general-solicitation-small-entity-compliance-guide.htm). This rule is expected to be relaxed for small offerings according to JOBS Act of 2012.

3. **No appcoin issuance without on-chain operations**. 
This may sound harsh, but call for transparency is one of the most persistent themes in any recent appcoin project. Running business operations on-chain will ensure automated transparency, essential for investors, and hopefully will provide the basis for satisfying regulators.
  * Note that transparency is the main condition of a good Kickstarter campaign.
  * Note that publicly traded companies in US are required to satisfy transparency requirements by filing their performance (SEC Forms 10Q, 10K), officers buying/selling company stock (Forms 3,4,5 - so called insider trading), management changes (Form 8K), etc.
  * Note that social profiles are now often used to build an online credit score. It is effective as faking the whole network of connections is extermely hard. Assessing entity's credibility is essential in global trade. On-chain transactions will not only provide an audit trail, but most importantly they will connects Tradenet nodes, building the first social [buisness] network.

4. **Programmable by you**. Literacy in reading and writing trading rules is essencial for Tradenet to remain trustless. Like basic literacy, it frees the trader from total dependency on intermediaries. But will people be able to program? A great web site [IFTTT](https://ifttt.com/) demonstrated that regular people can do it, given the right tools. We call this type of programming micro-scripting, and in our startup we playfully call these trading scripts - tradles.

5. **Self-governed**. Conflict resolution will be based on programmed trade rules, written and read directly by participants and executed automatically by the system. For conflict resolution these programs will use monetary instruments like escrow, fidelity bonds, insurance, etc., in lieu of legal actions, in the style of [lex mercatoria](http://bitcoinism.blogspot.ca/2013/12/lex-cryptographia.html). It is especially important in global trade where legal systems are incompatible, and in case of developing countries, either under-developed or often corrupt.

Examples of future Tradenet applications
========================================

With the advent of bitcoin's decentralized model a new maxim was coined by David Johnston: [anything that can be decetralized, will be decentralized](http://www.johnstonslaw.org). Below are just a few examples of the apps that will take advantage of operating on-chain. At Tradle we are building the tools for making and running such apps.

- **mutual CRM** - record my intercations with companies, like insurance providers, wireless operators, landlords, home repair, etc. Today we call them and they take notes, notes we never see. Notes they may deny they took next time we call. Tell me you were not infuriated by this at least once in your life. We could expand that warrantees, repair subsacriptions and other committments companies make to us, and also recording how they delivered on their commitments.
- **supply chain management, order management, logistics**. This field requires multiple partners to be "on the same page", no go when each has its own internal system.
- **personal and business accounting**, based on [tripple entry accounting](http://bitcoinmagazine.com/9969/triple-entry-bookkeeping-bitcoin/)
- **smart contracts**: The biggest excitement in the bitcoin world is centered around the notion of programmability of money, with the key concepts being smart contracts and smart properties, initially published by [Nick Szabo in 1994](http://szabo.best.vwh.net/smart.contracts.html). Algorithmic trading is a form of a smart contract that uses outside data, such as market pricing data, economic indicators and millions of other signals to make financial decisions.
- **algorithmic trading**. In the past decade most capital markets became fully electronic (the new bitcoin markets were born electronic from the get go). This opened the doors to an algorithmic trading revolution. Top Wall Street firms trade 100% algorithmically, yet individuals and smaller firms are largely behind. Trading hours are 24/7 in currency and the emerged crypto-currency markets. The amount of assets traded is skyrocketing, with the introduction of hundreds of alt-currencies and emergence of [appcoins](http://startupboy.com/2014/03/09/the-bitcoin-model-for-crowdfunding/). Without algorithmic trading, human traders will not be able to compete.
- **energy usage and trade** based on smart thermostats, solar panels and other renewable sources
- **share-a-ride and other resource sharing schemes**, especially with [dynamic pricing](http://www.technologyreview.com/review/529961/in-praise-of-efficient-price-gouging/)

Future areas:

- **securitization of everything**, [rent out your backyard for farming](http://www.farmandranchliving.com/2007/DJ07/feature06.asp), [your roof for panels](http://collabfinder.com/project/238/sollardollar-is-a-crowdfunding-platform-for-solar), etc.
- **discovering e-commerce opportunities** - auto-comparative shopping
- **e-commerce syndication** (after market integration into e-commerce site)
- **IoT**: automatic auctions between cars and garages, programming doors locks for renting, programming lights to as theft deterrent when the host is absent, fridge weight sensors for tracking and ordering groceries, dairy, ice cream, etc.

Micro-scripting
=================
You-do-your-own-programming is Tradenet's law #4. Our approach is micro-scripting. We hope that drastically simplified scripting will create the same effect as Twitter's micro-blogging - make it ridiculously easy to make and share new stuff. To that extend Tradle provides an app to tap-tap your way into a complete micro-script, a tradle.

Ethereum discussions are centered around the possibilities opening up with the Turing-completeness of their script. Yet here we present an simplified programming approach. How come? Will this simplistic programming model work for a large enough set of use cases? First of all, there is a cop out - you can write your own tradle code (today in Java, tomorrow in JavaScript, Python and other languages), and oracle will dutifully execute it in its sandbox. But we consider this freedom only as a way of experimenting with the new use cases before they are generalized to be programmed by non-developers. So what methods do we use to make micro-scripting feasible?

- **technicals** - we borrow this term from algo-trading, where the raw value, like the price of the stock is processed using some algorithm (like moving average), and the result, called a technical, can be used in a rule in lieu of the raw value. At the moment we have built-in set of such functions, but in the future we will provide a plugin mechanism, so that this library can grow.
- **variables** - like in an IFTTT recipe, all tradle's input events become variables. Variables can be used to fill in properties of tradle's actions. In algo-trading the action is a trade, and one of its properties is a ticker for the financial product to buy/sell. This ticker symbol can be filled automatically, for example from an event that catches anomaly in the specific stock price, or a crypto-currency pair.
- **storage** - allows user to save a variable on a tradle, and use it in tradle rules next time tradle is run. Currently we put several built-on variables into storage automatically, but will expand that to any variables.
- **chaining** - tradle firing (or its storage changes) can serve as an input into another tradle.
- **profiles** - this is probably the most powerful way of simplfifying micro-scripting. Like bluetooth profiles this allows to create a domain-specific context. Profile will have their own set of technicals, types of rules (e.g. in algo-trading rule _a > b_ will have a extra clause _and sustained for 1 day_), choices of actions (e.g. in algo-trading it is an order to buy/sell and in supply chain it could be _pay the invoice_, etc. Examples of profiles: algo-trading profile (the only one we have at this point), company formation, funding, b2c, b2b, a legal agreement (smart contract), etc.

Problem space
=============

We believe that in a Tradenet computations will be on these tiers: 1) on chain (whether Ethereum, Mastercoin, etc. or side-chains), providing the basis for complex multi-party arrangments beyond multi-sig, 2) on oracles, executing user defined rules, and 3) on data nodes, for interfacing with existing web sites and legacy systems, for ensuring data security with proofs of existence and for dissemination of data/events to oracles.

According to bitcoin core developer Gavin Andersen off-chain data and computations is the next bitcoin frontier:  ["all of the really interesting complex contracts I can think of require data from outside the blockchain"](http://gavintech.blogspot.com/2014/06/bit-thereum.html)

Ethereum captured people's imagination on the potential of extended on-chain computations with a second highest crowdfunding in history - a cool $15M. Ethereum's innovations such as per-contract storage, arbitrary scripts, pay forward computations (gas), etc., allow to implement a whole new class of apps. Yet, there is a much larger class of apps that will emerge between the web/cloud and the chain.

In the bitcoin world these apps are traditionally called Oracles. Vitalik in [Ethereum and Oracles](https://blog.ethereum.org/2014/07/22/ethereum-and-oracles/) blog writes: "The most common case that will appear in reality is the case of external data".

There has been a lot of discussions on oracles but only recently several companies released implementations: Ripple's Codius.org, Orisi, RealityKeys, etc. (Note that Codius's whitepaper refers to several more oracles systems). Each implementation focuses on a subset of the functions listed below:

* sandboxing: this technique protects host machines, e.g. a miner, from untrusted and possibly misbehaving contracts. Ripple's new [Codius.org](http://codius.org) uses NaCl - google native client. A Rackspace-sponsored [ZeroVM](http://www.zerovm.org/), an offshoot of the NaCl project, could be used instead. Both ZeroVM and NaCl provide a deterministic environment to ensure that identical computations achieve identical results at identical expense. This comes at a price, as some things are intentionally blocked in this environment, like access to the outside world. Another, much more flexible, sandboxing solution [Docker](https://www.docker.com/) has recently become very popular, but it only provides deterministic deployment, not execution. In addition, both NaCl and Docker sandboxes can run inside a full Virtual Machine, like VirtualBox to fully isolate the host machine from possibly misbehaving smart contracts.

* proof of untampered execution:  Sandboxing protects the host, but the opposite is needed too. In a decentralized environment, hosting of apps is done by untrusted parties. This is in contrast to current cloud settings, where we implicitly trust Amazon, Google, Microsoft, etc. In the post-Snowden era we know that this trust was misplaced. So, in building a new distributed cloud, especially the one executing financial transactions, we must trust nothing and rely on cryptographic proofs of data immutability, code immutability, and computation verifiability, by applying zero knowledge systems pervasively. A recently invented technique called [zk-SNARKS](http://www.scipr-lab.org/) allows something that is hard to imagine, verification of computations without repeating them.

* securing external data: Trusty URIs (hash-URIs), Notary Chains, proofofexistence.com and Reality Keys tackle the question of whether we can trust a website's data. Hash-URIs of all the data inputs (including hash-URIs of all dependencies) combined with the hash-URI of the code, can provide verifiability of public computations. Any other network node may do the audit, by performing the same computations and verifying the resulting hash-URI. Great for open source code and fully open data. If some private inputs like secret keys, must be included, then zk-SNARKS technique must be used.

* communicating decisions to the chain: Today there are a multitude of solutions based on multisig, split secret, etc. The most promising is Adam Back & Austin Hill's new sidechains startup called Blockstream which will allow oracles to run as nodes in a sidechain, with direct integration into the bitcoin mainchain.

* consensus between oracles: Orisi uses M of N multi-sig to work around possibly compromised or unavailable oracles. This replaces the "everyone agrees" notion of the blockchain with the "some agree". May be with Adam Back's sidechains this compromise can be avoided.

* user choosing oracle nodes: this is Codius's approach to securing computations by relying on each node's reputation.

* rendezvous and communication. Oracles need to discover each other, users need to be able to discover oracles. A mix of techniques used by bitcoin nodes, like DNS seeds, broadcasting known nodes, etc., can be employed.

Tradle will use the mechinisms above and add two innovations to make smart contracts simple:

* a) non-developer (DIY) contracts. A simple rule based UI designed to be used on mobiles, so that no developer is needed as an intermediary to make and read contracts. The complexity of programming is moved to data and a growing number of functions defined on data.
* b) data unification. We use a visual data modeling framework and a data mapping engine, developed over the last decade, to make web data accessible to smart contracts.


Tradenet: oracles and data nodes 
============================================================

Tradle app compiles a tradle into Java code, which is executed by the oracle. Oracles subscribe to events from Data nodes and pass them to tradle code. This way tradle code can be simple and verifiable.

* Subscription. Specifically, oracles send tradle URIs as subscription requests to Data nodes, and wait for events on WebSockets. A tradle may have several input indicators, so oracles will get subscribed to several event types. To compensate for reboots and re-connections, in a subscription request oracles say: give me new 'if-modified since' for each tradle indicator.

* Verification. Data Server publishes every event with its hash-URI and sends it to Notary Chains. Oracles verify each event's hash-URI with Notary Chains. 

* Synchronization. Each Data node may provide different indicators. Indicator URIs reflect the nodes they are coming from, e.g. http://server1.tradle.io. Thus oracles may send subscriptions to several Data nodes (if all indicators are on the same server, it sends one request with 3 indicators in it). Events in each indicator come at different times. Oracles save retrieved indicators into their local databases. This way when any event arrives, oracles can call tradle code with all the values of other indicators it saved before.

Tradenet: oracles and blockchain
================================

Each tradle has trade(s), which define what assets to trade, in what quantities and at what prices. The tradle's code does not have access to this information. Neither do oracles. Oracles tell user's wallets to execute a trade. Wallets have all the keys to access user accounts and sign transactions.

It is not yet clear how to solve the following problem: to communicate with wallets oracles will need API keys, and it would be totally insecure to give oracle those keys. May be an approach could look something like this: oracle hashes tradle's decision (combined with the hashes of inputs, and hash of oracle's code, and hash of the tradle's code) and puts it in a box. Wallet picks final hash from this box and proceeds to execute trades on a tradle. Another problem is that wallet code needs to get modified for that.

New app architecture, broad strokes
===================================
Modern mobile apps use device's local database as their primary database. Such apps paint the screen from the local db and record user input by creating transactions in local db. Synchronization of data with the cloud database happens in the background. This flow has evolved from the "always connected" flow of Web apps due to the necessity of supporting offline/disconnected operations. Turns out this flow is a great enabler for on-chain apps:

1. *Chain becomes a master db*. Cloud databases become slave databases of the chain. Althoug chain is a 'master of record', it not a database which can be used by the apps. The solution, common today, it to have a blockchain explorer to read transactions from the chain and create a browsable, searchable database. There is even a startup, [Chain](http://chain.com) that offers such services. But for the chain to perform a function of master db, it needs to be enhanced, fronted by the oracles. Oracle will make decisions, enrich transactions, perhaphs generate sub-transactions and send them to the underlying blockchain, like Ethereum, Mastercoin + Maidsafe, Notary Chain, etc. with richer semantics and storage capabilities.

2. *Apps bootstrap from the chain*. App's local db becomes a slave of a chain instead of a slave of a cloud db. As an optimization, apps could bootstrap from a cloud db, but verify all the data and app assets with the chain. New transactions are sent directly to the chain, that is when user fills out some form, buys something, or makes some other choice by tapping the screen, the app will create a transaction and send it to the chain.

Bootstrapping:
`[Mobile] App <-- cloud database <-- chain`
         `App <-- chain`

New transactions:
`[Mobile] App --> chain`

Runtime
=======
Tradle provides simple UI tools for anyone to be able to program trade. Each user program is called a tradle (at this point we provide a tool to create tradles for algorithmic trading). When user publishes a tradle, our tool generates tradle code for execution. Oracles execute a tradle when they receive an event, which tradle is configured for, from the data node. Oracles will not be HTTP servers (will not accept REST requests), so that they can run in any environment, even behind the firewalls, like other p2p programs. That said we are working on a simple protocol that will allow to easily communicate with the oracles. At this point it will be a form of push messaging.

First oracles implementations will be in Java, open sourced in this github repo. It will be designed to run on Android or Oracle Java, so potentially it can run on any OS and on Android smartphones. Tradles could also be written manually. 

Miners will only need to download and install the container that will run in a VirtualBox. Oracles will be automatically deployed into those containers with the use of Docker, running in a CoreOS inside a VirtualBox. CoreOS is a stripped down Linux OS that runs every apps in a separate docker container and allows to automate docker deployments across a cluster of CoreOS instances. Together with Java virtual machine this should provide high level of sandboxing to protect host machines from potentially malfunctioning or even malicious tradle code. We are also looking into the Maidsafe's capabilities for this type of orchestration.

At this point tradles will receive events as input parameters and return true or false. We are still designing the way oracles will provide storage to tradles. Our goal is to make oracles implementation extremely small so that their security can be easily verified.

Conclusion
==========
Tradle is developing a protocol for running business operations on a distributed cloud powered by the blockchain. As transactions include multiple business participants, these relationships will begin to form a Tradenet of connected businesses. So possibly another definition of a Tradenet is a decentralized social [business] network.
